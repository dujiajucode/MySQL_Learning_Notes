# 更新数据(UPDATE)

**没有输出** UPDATE语句一般不会产生输出。

为了从一个表中删除(去掉)数据，使用UPDATE语句。可以两种方式使用UPDATE:

* 更新表中特定行;
* 更新表中所有行。

**不要省略WHERE子句** 在使用UPDATE时一定要注意细心。因为稍不注意，就会错误地更改表中所有行。

如果用UPDATE语句更新多行，并且在更新这些行中的一行或多行时出一个现错误，则整个UPDATE操作被取消 (错误发生前更新的所有行被恢复到它们原来的值)。

### 更新单个列数据

```sql
UPDATE 表名 SET 列名1 ='新值' WHERE 列名1='值';
```
### 更新多个列数据

```sql
UPDATE 表名 SET 列名1 ='新值',列名2 ='新值' WHERE 列名1='值';
```

### 删除某个列的值

```sql
UPDATE 表名 SET 列名1 = NULL WHERE 列名1='值';
```

NULL无需加引号！



### 更新所有数据

如果要更新表中的所有数据，可以不加WHERE条件！注意，数据无价，谨慎操作，不能撤销！

语法（不推荐，在MySQLWorkbench 可能会报错，因为MySQLWorkbench默认配置UPDATE语句必须WHERE 子句）

```sql
UPDATE 表名 SET 列名1 ='新值';
```


### 指导原则

如果省略了WHERE子句，则UPDATE或DELETE将被应用到表中 190 所有的行。换句话说，如果执行UPDATE而不带WHERE子句，则表中每个行都将用新值更新。类似地，如果执行DELETE语句而不带WHERE子句，表的所有数据都将被删除。

下面是许多SQL程序员使用UPDATE或DELETE时所遵循的习惯。

*  除非确实打算更新和删除每一行，否则绝对不要使用不带WHERE 子句的UPDATE或DELETE语句。
* 保证每个表都有主键(如果忘记这个内容，请参阅第15章)，尽可能 像WHERE子句那样使用它(可以指定各主键、多个值或值的范围)。
* 在对UPDATE或DELETE语句使用WHERE子句前，应该先用SELECT进 行测试，保证它过滤的是正确的记录，以防编写的WHERE子句不正确。
* 使用强制实施引用完整性的数据库(关于这个内容，请参阅第15 章)，这样MySQL将不允许删除具有与其他表相关联的数据的行。

**小心使用** MySQL没有撤销(undo)按钮。应该非常小心地 使用UPDATE和DELETE，否则你会发现自己更新或删除了错误 的数据。


